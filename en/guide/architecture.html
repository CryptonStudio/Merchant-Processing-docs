<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Architecture Overview | Crypto Payment Gateway</title>
    <meta name="description" content="Complete documentation for crypto payment processing">
    <meta name="generator" content="VitePress v1.6.3">
    <link rel="preload stylesheet" href="/assets/style.B6oSU1S6.css" as="style">
    <link rel="preload stylesheet" href="/vp-icons.css" as="style">
    
    <script type="module" src="/assets/app.-GTuZWZR.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/theme.IbX3Xm_1.js">
    <link rel="modulepreload" href="/assets/chunks/framework.BtEkjhVd.js">
    <link rel="modulepreload" href="/assets/en_guide_architecture.md.CuOy7unk.lean.js">
    <link rel="icon" href="/favicon.ico">
    <meta name="theme-color" content="#3c82f6">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-5d98c3a5><!--[--><!--]--><!--[--><span tabindex="-1" data-v-0b0ada53></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-0b0ada53>Skip to content</a><!--]--><!----><header class="VPNav" data-v-5d98c3a5 data-v-ae24b3ad><div class="VPNavBar" data-v-ae24b3ad data-v-6aa21345><div class="wrapper" data-v-6aa21345><div class="container" data-v-6aa21345><div class="title" data-v-6aa21345><div class="VPNavBarTitle has-sidebar" data-v-6aa21345 data-v-1168a8e4><a class="title" href="/" data-v-1168a8e4><!--[--><!--]--><!--[--><img class="VPImage logo" src="/logo.svg" alt data-v-8426fc1a><!--]--><span data-v-1168a8e4>Crypto Payment Gateway</span><!--[--><!--]--></a></div></div><div class="content" data-v-6aa21345><div class="content-body" data-v-6aa21345><!--[--><!--]--><div class="VPNavBarSearch search" data-v-6aa21345><!----></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-6aa21345 data-v-dc692963><span id="main-nav-aria-label" class="visually-hidden" data-v-dc692963> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/en/guide/introduction.html" tabindex="0" data-v-dc692963 data-v-e56f3d57><!--[--><span data-v-e56f3d57>Guide</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/en/api/overview.html" tabindex="0" data-v-dc692963 data-v-e56f3d57><!--[--><span data-v-e56f3d57>API Reference</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/en/integration/getting-started.html" tabindex="0" data-v-dc692963 data-v-e56f3d57><!--[--><span data-v-e56f3d57>Integration</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/en/examples/basic-usage.html" tabindex="0" data-v-dc692963 data-v-e56f3d57><!--[--><span data-v-e56f3d57>Examples</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/en/guide/theme-demo.html" tabindex="0" data-v-dc692963 data-v-e56f3d57><!--[--><span data-v-e56f3d57>Theme Demo</span><!--]--></a><!--]--><!--]--></nav><div class="VPFlyout VPNavBarTranslations translations" data-v-6aa21345 data-v-88af2de4 data-v-cf11d7a2><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="Change language" data-v-cf11d7a2><span class="text" data-v-cf11d7a2><span class="vpi-languages option-icon" data-v-cf11d7a2></span><!----><span class="vpi-chevron-down text-icon" data-v-cf11d7a2></span></span></button><div class="menu" data-v-cf11d7a2><div class="VPMenu" data-v-cf11d7a2 data-v-b98bc113><!----><!--[--><!--[--><div class="items" data-v-88af2de4><p class="title" data-v-88af2de4>English</p><!--[--><div class="VPMenuLink" data-v-88af2de4 data-v-35975db6><a class="VPLink link" href="/ru/en/guide/architecture.html" data-v-35975db6><!--[--><span data-v-35975db6>Русский</span><!--]--></a></div><!--]--></div><!--]--><!--]--></div></div></div><div class="VPNavBarAppearance appearance" data-v-6aa21345 data-v-6c893767><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-6c893767 data-v-5337faa4 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-5337faa4></span><span class="vpi-moon moon" data-v-5337faa4></span><!--]--></span></span></button></div><!----><div class="VPFlyout VPNavBarExtra extra" data-v-6aa21345 data-v-bb2aa2f0 data-v-cf11d7a2><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-cf11d7a2><span class="vpi-more-horizontal icon" data-v-cf11d7a2></span></button><div class="menu" data-v-cf11d7a2><div class="VPMenu" data-v-cf11d7a2 data-v-b98bc113><!----><!--[--><!--[--><div class="group translations" data-v-bb2aa2f0><p class="trans-title" data-v-bb2aa2f0>English</p><!--[--><div class="VPMenuLink" data-v-bb2aa2f0 data-v-35975db6><a class="VPLink link" href="/ru/en/guide/architecture.html" data-v-35975db6><!--[--><span data-v-35975db6>Русский</span><!--]--></a></div><!--]--></div><div class="group" data-v-bb2aa2f0><div class="item appearance" data-v-bb2aa2f0><p class="label" data-v-bb2aa2f0>Appearance</p><div class="appearance-action" data-v-bb2aa2f0><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-bb2aa2f0 data-v-5337faa4 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-5337faa4></span><span class="vpi-moon moon" data-v-5337faa4></span><!--]--></span></span></button></div></div></div><!----><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-6aa21345 data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div></div><div class="divider" data-v-6aa21345><div class="divider-line" data-v-6aa21345></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-5d98c3a5 data-v-a6f0e41e><div class="container" data-v-a6f0e41e><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-a6f0e41e><span class="vpi-align-left menu-icon" data-v-a6f0e41e></span><span class="menu-text" data-v-a6f0e41e>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-a6f0e41e data-v-8a42e2b4><button data-v-8a42e2b4>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-5d98c3a5 data-v-319d5ca6><div class="curtain" data-v-319d5ca6></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-319d5ca6><span class="visually-hidden" id="sidebar-aria-label" data-v-319d5ca6> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0 has-active" data-v-c40bc020 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><h2 class="text" data-v-b3fd67f8>Getting Started</h2><!----></div><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/en/guide/introduction.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Introduction</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/en/guide/quick-start.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Quick Start</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/en/guide/architecture.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Architecture</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/en/guide/deployment.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Deployment</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0" data-v-c40bc020 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><h2 class="text" data-v-b3fd67f8>Core Concepts</h2><!----></div><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/en/guide/addresses.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Addresses & Wallets</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/en/guide/networks.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Networks & Coins</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/en/guide/transactions.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Transactions</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/en/guide/withdrawals.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Withdrawals</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-5d98c3a5 data-v-1428d186><div class="VPDoc has-sidebar has-aside" data-v-1428d186 data-v-39a288b8><!--[--><!--]--><div class="container" data-v-39a288b8><div class="aside" data-v-39a288b8><div class="aside-curtain" data-v-39a288b8></div><div class="aside-container" data-v-39a288b8><div class="aside-content" data-v-39a288b8><div class="VPDocAside" data-v-39a288b8 data-v-3f215769><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-3f215769 data-v-a5bbad30><div class="content" data-v-a5bbad30><div class="outline-marker" data-v-a5bbad30></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-a5bbad30>On this page</div><ul class="VPDocOutlineItem root" data-v-a5bbad30 data-v-b933a997><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-3f215769></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-39a288b8><div class="content-container" data-v-39a288b8><!--[--><!--]--><main class="main" data-v-39a288b8><div style="position:relative;" class="vp-doc _en_guide_architecture" data-v-39a288b8><div><h1 id="architecture-overview" tabindex="-1">Architecture Overview <a class="header-anchor" href="#architecture-overview" aria-label="Permalink to &quot;Architecture Overview&quot;">​</a></h1><p>The Crypto Payment Gateway is built using a microservices architecture with modular components that handle different aspects of cryptocurrency payment processing.</p><h2 id="system-architecture" tabindex="-1">System Architecture <a class="header-anchor" href="#system-architecture" aria-label="Permalink to &quot;System Architecture&quot;">​</a></h2><div class="language-mermaid vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">mermaid</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">graph TB</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    subgraph &quot;External Services&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        User[User/Client]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        Blockchain[Blockchain Networks]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        ThirdParty[Third-party Wallets]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    end</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    subgraph &quot;API Layer&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        Gateway[Gateway Service]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        Widget[Payment Widget]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    end</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    subgraph &quot;Core Services&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        Merchant[Merchant Service]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        Storage[Storage Service]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        Tracking[Tracking Service]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        Collector[Collector Service]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        Signer[Signer Service]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    end</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    subgraph &quot;Processing Services&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        Multisig[Multisig Service]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        KYT[KYT Service]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        WithdrawalAgg[Withdrawal Aggregation]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        CommMediator[Communication Mediator]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    end</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    subgraph &quot;Infrastructure&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        Database[(PostgreSQL)]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        Redis[(Redis Cache)]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        RabbitMQ[Message Queue]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        ConnectionService[Connection Service]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    end</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    User --&gt; Gateway</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    User --&gt; Widget</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Gateway --&gt; Merchant</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Gateway --&gt; Storage</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Merchant --&gt; Tracking</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Tracking --&gt; Collector</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Collector --&gt; Signer</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Signer --&gt; Multisig</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    KYT --&gt; CommMediator</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    WithdrawalAgg --&gt; Signer</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Storage --&gt; Database</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Tracking --&gt; Redis</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    CommMediator --&gt; RabbitMQ</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Signer --&gt; Blockchain</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Collector --&gt; Blockchain</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Tracking --&gt; Blockchain</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ThirdParty --&gt; Tracking</span></span></code></pre></div><h2 id="core-components" tabindex="-1">Core Components <a class="header-anchor" href="#core-components" aria-label="Permalink to &quot;Core Components&quot;">​</a></h2><h3 id="applications-apps" tabindex="-1">Applications (<code>/apps</code>) <a class="header-anchor" href="#applications-apps" aria-label="Permalink to &quot;Applications (`/apps`)&quot;">​</a></h3><h4 id="gateway-service" tabindex="-1">Gateway Service <a class="header-anchor" href="#gateway-service" aria-label="Permalink to &quot;Gateway Service&quot;">​</a></h4><ul><li><strong>Purpose</strong>: Main API endpoint for external integrations</li><li><strong>Responsibilities</strong>: <ul><li>REST API endpoints</li><li>Request validation and routing</li><li>Authentication and authorization</li><li>Rate limiting</li></ul></li></ul><h4 id="merchant-service" tabindex="-1">Merchant Service <a class="header-anchor" href="#merchant-service" aria-label="Permalink to &quot;Merchant Service&quot;">​</a></h4><ul><li><strong>Purpose</strong>: Business logic for merchant operations</li><li><strong>Responsibilities</strong>: <ul><li>Merchant account management</li><li>Payment processing logic</li><li>Balance calculations</li><li>Transaction history</li></ul></li></ul><h4 id="storage-service" tabindex="-1">Storage Service <a class="header-anchor" href="#storage-service" aria-label="Permalink to &quot;Storage Service&quot;">​</a></h4><ul><li><strong>Purpose</strong>: Data persistence and retrieval</li><li><strong>Responsibilities</strong>: <ul><li>Database operations</li><li>Data validation</li><li>Transaction logging</li><li>Balance updates</li></ul></li></ul><h4 id="tracking-service" tabindex="-1">Tracking Service <a class="header-anchor" href="#tracking-service" aria-label="Permalink to &quot;Tracking Service&quot;">​</a></h4><ul><li><strong>Purpose</strong>: Blockchain transaction monitoring</li><li><strong>Responsibilities</strong>: <ul><li>Block scanning</li><li>Transaction detection</li><li>Address monitoring</li><li>Event emission</li></ul></li></ul><h4 id="collector-service" tabindex="-1">Collector Service <a class="header-anchor" href="#collector-service" aria-label="Permalink to &quot;Collector Service&quot;">​</a></h4><ul><li><strong>Purpose</strong>: Token collection from user addresses</li><li><strong>Responsibilities</strong>: <ul><li>Token sweeping</li><li>Gas fee management</li><li>Collection scheduling</li><li>Multi-signature coordination</li></ul></li></ul><h4 id="signer-service" tabindex="-1">Signer Service <a class="header-anchor" href="#signer-service" aria-label="Permalink to &quot;Signer Service&quot;">​</a></h4><ul><li><strong>Purpose</strong>: Transaction signing and broadcasting</li><li><strong>Responsibilities</strong>: <ul><li>Private key management</li><li>Transaction signing</li><li>Broadcast coordination</li><li>Security validation</li></ul></li></ul><h4 id="multisig-service" tabindex="-1">Multisig Service <a class="header-anchor" href="#multisig-service" aria-label="Permalink to &quot;Multisig Service&quot;">​</a></h4><ul><li><strong>Purpose</strong>: Multi-signature wallet operations</li><li><strong>Responsibilities</strong>: <ul><li>Multi-sig transaction creation</li><li>Signature collection</li><li>Threshold validation</li><li>Security enforcement</li></ul></li></ul><h4 id="kyt-know-your-transaction" tabindex="-1">KYT (Know Your Transaction) <a class="header-anchor" href="#kyt-know-your-transaction" aria-label="Permalink to &quot;KYT (Know Your Transaction)&quot;">​</a></h4><ul><li><strong>Purpose</strong>: Transaction compliance and monitoring</li><li><strong>Responsibilities</strong>: <ul><li>AML/KYC compliance</li><li>Risk assessment</li><li>Suspicious activity detection</li><li>Regulatory reporting</li></ul></li></ul><h4 id="withdrawal-aggregation" tabindex="-1">Withdrawal Aggregation <a class="header-anchor" href="#withdrawal-aggregation" aria-label="Permalink to &quot;Withdrawal Aggregation&quot;">​</a></h4><ul><li><strong>Purpose</strong>: Optimized batch withdrawals</li><li><strong>Responsibilities</strong>: <ul><li>Withdrawal batching</li><li>Fee optimization</li><li>Timing coordination</li><li>Status management</li></ul></li></ul><h4 id="communication-mediator" tabindex="-1">Communication Mediator <a class="header-anchor" href="#communication-mediator" aria-label="Permalink to &quot;Communication Mediator&quot;">​</a></h4><ul><li><strong>Purpose</strong>: Inter-service communication</li><li><strong>Responsibilities</strong>: <ul><li>Message routing</li><li>Event distribution</li><li>Service coordination</li><li>Error handling</li></ul></li></ul><h4 id="connection-service" tabindex="-1">Connection Service <a class="header-anchor" href="#connection-service" aria-label="Permalink to &quot;Connection Service&quot;">​</a></h4><ul><li><strong>Purpose</strong>: External service connections</li><li><strong>Responsibilities</strong>: <ul><li>RPC connections</li><li>Connection pooling</li><li>Failover handling</li><li>Health monitoring</li></ul></li></ul><h4 id="widget" tabindex="-1">Widget <a class="header-anchor" href="#widget" aria-label="Permalink to &quot;Widget&quot;">​</a></h4><ul><li><strong>Purpose</strong>: Frontend payment interface</li><li><strong>Responsibilities</strong>: <ul><li>Payment UI</li><li>QR code generation</li><li>Status updates</li><li>User interaction</li></ul></li></ul><h3 id="packages-packages" tabindex="-1">Packages (<code>/packages</code>) <a class="header-anchor" href="#packages-packages" aria-label="Permalink to &quot;Packages (`/packages`)&quot;">​</a></h3><h4 id="blockchain-clients" tabindex="-1">Blockchain Clients <a class="header-anchor" href="#blockchain-clients" aria-label="Permalink to &quot;Blockchain Clients&quot;">​</a></h4><ul><li><strong>bc-client</strong>: Generic blockchain client interface</li><li><strong>bc-client-provider</strong>: Client provider factory</li><li><strong>bitcoin</strong>: Bitcoin-specific operations</li><li><strong>ether</strong>: Ethereum-compatible operations</li><li><strong>tron</strong>: Tron network operations</li></ul><h4 id="infrastructure" tabindex="-1">Infrastructure <a class="header-anchor" href="#infrastructure" aria-label="Permalink to &quot;Infrastructure&quot;">​</a></h4><ul><li><strong>amqp</strong>: RabbitMQ messaging</li><li><strong>cache-manager</strong>: Redis caching</li><li><strong>config</strong>: Configuration management</li><li><strong>logger</strong>: Logging utilities</li><li><strong>typeorm</strong>: Database ORM extensions</li></ul><h4 id="business-logic" tabindex="-1">Business Logic <a class="header-anchor" href="#business-logic" aria-label="Permalink to &quot;Business Logic&quot;">​</a></h4><ul><li><strong>addresses</strong>: Address management</li><li><strong>currency-rates</strong>: Exchange rate handling</li><li><strong>distributor</strong>: Fund distribution</li><li><strong>payer</strong>: Payment processing</li><li><strong>tracker</strong>: Transaction tracking</li></ul><h4 id="utilities" tabindex="-1">Utilities <a class="header-anchor" href="#utilities" aria-label="Permalink to &quot;Utilities&quot;">​</a></h4><ul><li><strong>common</strong>: Shared utilities</li><li><strong>encoder</strong>: Data encoding/decoding</li><li><strong>helpers</strong>: Helper functions</li><li><strong>http-client</strong>: HTTP client utilities</li><li><strong>io-emitter</strong>: Event emission</li><li><strong>provider</strong>: Service providers</li><li><strong>rpc</strong>: RPC communication</li><li><strong>testing</strong>: Testing utilities</li></ul><h2 id="data-flow" tabindex="-1">Data Flow <a class="header-anchor" href="#data-flow" aria-label="Permalink to &quot;Data Flow&quot;">​</a></h2><h3 id="deposit-flow" tabindex="-1">Deposit Flow <a class="header-anchor" href="#deposit-flow" aria-label="Permalink to &quot;Deposit Flow&quot;">​</a></h3><ol><li>User sends cryptocurrency to generated address</li><li><strong>Tracking Service</strong> detects incoming transaction</li><li><strong>Storage Service</strong> updates balance records</li><li><strong>Collector Service</strong> sweeps tokens to collection wallet</li><li><strong>Merchant Service</strong> processes business logic</li><li><strong>Communication Mediator</strong> sends notifications</li></ol><h3 id="withdrawal-flow" tabindex="-1">Withdrawal Flow <a class="header-anchor" href="#withdrawal-flow" aria-label="Permalink to &quot;Withdrawal Flow&quot;">​</a></h3><ol><li><strong>Gateway</strong> receives withdrawal request</li><li><strong>Merchant Service</strong> validates request and balance</li><li><strong>Withdrawal Aggregation</strong> batches requests (if enabled)</li><li><strong>Signer Service</strong> creates and signs transaction</li><li><strong>Multisig Service</strong> handles multi-signature requirements</li><li><strong>Storage Service</strong> updates balances and status</li><li><strong>Communication Mediator</strong> sends confirmation</li></ol><h2 id="address-types-and-ownership" tabindex="-1">Address Types and Ownership <a class="header-anchor" href="#address-types-and-ownership" aria-label="Permalink to &quot;Address Types and Ownership&quot;">​</a></h2><h3 id="user-addresses-default" tabindex="-1">User Addresses (Default) <a class="header-anchor" href="#user-addresses-default" aria-label="Permalink to &quot;User Addresses (Default)&quot;">​</a></h3><ul><li><strong>Purpose</strong>: Receive deposits from users</li><li><strong>Key Management</strong>: Gateway controls private keys</li><li><strong>Usage</strong>: Primary deposit addresses</li></ul><h3 id="hot-wallets-hot-type" tabindex="-1">Hot Wallets (<code>hot</code> type) <a class="header-anchor" href="#hot-wallets-hot-type" aria-label="Permalink to &quot;Hot Wallets (`hot` type)&quot;">​</a></h3><ul><li><strong>Purpose</strong>: Source for withdrawals to users</li><li><strong>Key Management</strong>: Gateway controls private keys</li><li><strong>Requirements</strong>: Must maintain native coin balance for gas fees</li></ul><h3 id="cold-wallets-cold-type" tabindex="-1">Cold Wallets (<code>cold</code> type) <a class="header-anchor" href="#cold-wallets-cold-type" aria-label="Permalink to &quot;Cold Wallets (`cold` type)&quot;">​</a></h3><ul><li><strong>Purpose</strong>: Long-term storage destination</li><li><strong>Key Management</strong>: Gateway does NOT control private keys</li><li><strong>Usage</strong>: Secure storage of collected funds</li></ul><h3 id="token-collectors-tokens-collector-type" tabindex="-1">Token Collectors (<code>tokens_collector</code> type) <a class="header-anchor" href="#token-collectors-tokens-collector-type" aria-label="Permalink to &quot;Token Collectors (`tokens_collector` type)&quot;">​</a></h3><ul><li><strong>Purpose</strong>: Intermediate collection of tokens</li><li><strong>Key Management</strong>: Gateway controls private keys</li><li><strong>Requirements</strong>: Must maintain native coin balance for gas fees</li></ul><h2 id="address-modes" tabindex="-1">Address Modes <a class="header-anchor" href="#address-modes" aria-label="Permalink to &quot;Address Modes&quot;">​</a></h2><h3 id="single-mode-addresses-mode-single" tabindex="-1">Single Mode (<code>ADDRESSES_MODE=single</code>) <a class="header-anchor" href="#single-mode-addresses-mode-single" aria-label="Permalink to &quot;Single Mode (`ADDRESSES_MODE=single`)&quot;">​</a></h3><ul><li>One address per coin per network</li><li>Manual address creation required for each coin</li><li>Granular control over address allocation</li></ul><h3 id="common-mode-addresses-mode-common" tabindex="-1">Common Mode (<code>ADDRESSES_MODE=common</code>) <a class="header-anchor" href="#common-mode-addresses-mode-common" aria-label="Permalink to &quot;Common Mode (`ADDRESSES_MODE=common`)&quot;">​</a></h3><ul><li>One address per network (all coins)</li><li>Automatic balance creation for all network coins</li><li>Simplified address management</li></ul><h3 id="cross-mode-addresses-mode-cross" tabindex="-1">Cross Mode (<code>ADDRESSES_MODE=cross</code>) <a class="header-anchor" href="#cross-mode-addresses-mode-cross" aria-label="Permalink to &quot;Cross Mode (`ADDRESSES_MODE=cross`)&quot;">​</a></h3><ul><li>One address for compatible networks</li><li>Maximum address reuse</li><li>Optimal for EVM-compatible chains</li></ul><h2 id="withdrawal-aggregation-modes" tabindex="-1">Withdrawal Aggregation Modes <a class="header-anchor" href="#withdrawal-aggregation-modes" aria-label="Permalink to &quot;Withdrawal Aggregation Modes&quot;">​</a></h2><h3 id="none-mode" tabindex="-1">None Mode <a class="header-anchor" href="#none-mode" aria-label="Permalink to &quot;None Mode&quot;">​</a></h3><ul><li>Individual transactions for each withdrawal</li><li>Higher fees but immediate processing</li><li>Suitable for high-value, low-frequency withdrawals</li></ul><h3 id="batch-mode" tabindex="-1">Batch Mode <a class="header-anchor" href="#batch-mode" aria-label="Permalink to &quot;Batch Mode&quot;">​</a></h3><ul><li>Multiple withdrawals in single transaction</li><li>Optimized fees through batching</li><li>Configurable batch size and timing</li><li>Ideal for high-frequency, smaller withdrawals</li></ul><h2 id="security-architecture" tabindex="-1">Security Architecture <a class="header-anchor" href="#security-architecture" aria-label="Permalink to &quot;Security Architecture&quot;">​</a></h2><h3 id="multi-layer-security" tabindex="-1">Multi-layer Security <a class="header-anchor" href="#multi-layer-security" aria-label="Permalink to &quot;Multi-layer Security&quot;">​</a></h3><ol><li><strong>API Layer</strong>: Authentication, rate limiting, input validation</li><li><strong>Service Layer</strong>: Business logic validation, authorization</li><li><strong>Data Layer</strong>: Encrypted storage, audit logging</li><li><strong>Network Layer</strong>: Secure communication, VPN support</li></ol><h3 id="key-management" tabindex="-1">Key Management <a class="header-anchor" href="#key-management" aria-label="Permalink to &quot;Key Management&quot;">​</a></h3><ul><li>Hardware Security Module (HSM) support</li><li>Multi-signature wallet integration</li><li>Key rotation capabilities</li><li>Secure key derivation</li></ul><h3 id="monitoring-compliance" tabindex="-1">Monitoring &amp; Compliance <a class="header-anchor" href="#monitoring-compliance" aria-label="Permalink to &quot;Monitoring &amp; Compliance&quot;">​</a></h3><ul><li>Real-time transaction monitoring</li><li>AML/KYC integration</li><li>Suspicious activity detection</li><li>Regulatory compliance reporting</li></ul><h2 id="scalability-features" tabindex="-1">Scalability Features <a class="header-anchor" href="#scalability-features" aria-label="Permalink to &quot;Scalability Features&quot;">​</a></h2><h3 id="horizontal-scaling" tabindex="-1">Horizontal Scaling <a class="header-anchor" href="#horizontal-scaling" aria-label="Permalink to &quot;Horizontal Scaling&quot;">​</a></h3><ul><li>Microservices architecture</li><li>Load balancer support</li><li>Database sharding capabilities</li><li>Cache layer optimization</li></ul><h3 id="performance-optimization" tabindex="-1">Performance Optimization <a class="header-anchor" href="#performance-optimization" aria-label="Permalink to &quot;Performance Optimization&quot;">​</a></h3><ul><li>Connection pooling</li><li>Batch processing</li><li>Asynchronous operations</li><li>Efficient data structures</li></ul><h3 id="high-availability" tabindex="-1">High Availability <a class="header-anchor" href="#high-availability" aria-label="Permalink to &quot;High Availability&quot;">​</a></h3><ul><li>Service redundancy</li><li>Failover mechanisms</li><li>Health monitoring</li><li>Graceful degradation</li></ul></div></div></main><footer class="VPDocFooter" data-v-39a288b8 data-v-e257564d><!--[--><!--]--><!----><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-e257564d><span class="visually-hidden" id="doc-footer-aria-label" data-v-e257564d>Pager</span><div class="pager" data-v-e257564d><a class="VPLink link pager-link prev" href="/en/guide/quick-start.html" data-v-e257564d><!--[--><span class="desc" data-v-e257564d>Previous page</span><span class="title" data-v-e257564d>Quick Start</span><!--]--></a></div><div class="pager" data-v-e257564d><a class="VPLink link pager-link next" href="/en/guide/deployment.html" data-v-e257564d><!--[--><span class="desc" data-v-e257564d>Next page</span><span class="title" data-v-e257564d>Deployment</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-5d98c3a5 data-v-e315a0ad><div class="container" data-v-e315a0ad><p class="message" data-v-e315a0ad>Released under the MIT License.</p><p class="copyright" data-v-e315a0ad>Copyright © 2025 Crypto Payment Gateway</p></div></footer><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"en_api_addresses.md\":\"CRnTzPxs\",\"en_api_authentication.md\":\"CP8Qnrak\",\"en_api_networks.md\":\"CCOBd1fl\",\"en_api_overview.md\":\"C04k3QLX\",\"en_api_webhooks.md\":\"DY4NYIS0\",\"en_api_withdrawals.md\":\"BV4ixHQC\",\"en_examples_basic-usage.md\":\"fdkhIO59\",\"en_examples_error-handling.md\":\"D2tLiVuv\",\"en_examples_payment-flow.md\":\"BS2UN_MC\",\"en_examples_subscription-billing.md\":\"BFDr-BiC\",\"en_examples_webhooks.md\":\"BS-jFrYo\",\"en_guide_addresses.md\":\"Djomd-2x\",\"en_guide_architecture.md\":\"CuOy7unk\",\"en_guide_deployment.md\":\"DlRyKT0e\",\"en_guide_error-handling.md\":\"8jHxS4OY\",\"en_guide_introduction.md\":\"SuLEKssF\",\"en_guide_networks.md\":\"BGs0_cOV\",\"en_guide_quick-start.md\":\"CbDMKQVG\",\"en_guide_theme-demo.md\":\"CfzjsGM4\",\"en_guide_transactions.md\":\"DTV5MK2J\",\"en_guide_withdrawals.md\":\"BmA-U95p\",\"en_integration_getting-started.md\":\"giyW7Rw0\",\"en_integration_go.md\":\"Dw6Xy1TQ\",\"en_integration_python.md\":\"Cwb_mG85\",\"en_integration_typescript.md\":\"3do1SK80\",\"index.md\":\"CeOb_T-k\",\"readme.md\":\"xlRh8B6e\",\"ru_api_addresses.md\":\"C97IhVYZ\",\"ru_api_authentication.md\":\"Ddb1eE65\",\"ru_api_networks.md\":\"CLgUH9Ib\",\"ru_api_overview.md\":\"hlN_jo8A\",\"ru_api_transactions.md\":\"BfsSpu5s\",\"ru_api_withdrawals.md\":\"B4dcxkcF\",\"ru_examples_basic-usage.md\":\"C1Q2JWeH\",\"ru_examples_payment-flow.md\":\"CPPdK72Q\",\"ru_examples_webhooks.md\":\"C73TtZPC\",\"ru_guide_addresses.md\":\"CrnfYBq3\",\"ru_guide_architecture.md\":\"0dUCYEB-\",\"ru_guide_deployment.md\":\"DdJxiM5F\",\"ru_guide_introduction.md\":\"Di4O3HLL\",\"ru_guide_networks.md\":\"tdHI5VWj\",\"ru_guide_quick-start.md\":\"Cu2L1RZL\",\"ru_guide_transactions.md\":\"Bfdo5BAa\",\"ru_guide_withdrawals.md\":\"D2OsodeP\",\"ru_index.md\":\"BwGLix74\",\"ru_integration_getting-started.md\":\"Dr3xeMnp\",\"ru_integration_go.md\":\"DF91f-UN\",\"ru_integration_python.md\":\"DbMYRWvw\",\"ru_integration_typescript.md\":\"C_pzv0eW\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"Crypto Payment Gateway\",\"description\":\"Complete documentation for crypto payment processing\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"logo\":\"/logo.svg\",\"footer\":{\"message\":\"Released under the MIT License.\",\"copyright\":\"Copyright © 2025 Crypto Payment Gateway\"}},\"locales\":{\"root\":{\"label\":\"English\",\"lang\":\"en\",\"title\":\"Crypto Payment Gateway\",\"description\":\"Complete documentation for crypto payment processing\",\"themeConfig\":{\"nav\":[{\"text\":\"Guide\",\"link\":\"/en/guide/introduction\"},{\"text\":\"API Reference\",\"link\":\"/en/api/overview\"},{\"text\":\"Integration\",\"link\":\"/en/integration/getting-started\"},{\"text\":\"Examples\",\"link\":\"/en/examples/basic-usage\"},{\"text\":\"Theme Demo\",\"link\":\"/en/guide/theme-demo\"}],\"sidebar\":{\"/en/guide/\":[{\"text\":\"Getting Started\",\"items\":[{\"text\":\"Introduction\",\"link\":\"/en/guide/introduction\"},{\"text\":\"Quick Start\",\"link\":\"/en/guide/quick-start\"},{\"text\":\"Architecture\",\"link\":\"/en/guide/architecture\"},{\"text\":\"Deployment\",\"link\":\"/en/guide/deployment\"}]},{\"text\":\"Core Concepts\",\"items\":[{\"text\":\"Addresses & Wallets\",\"link\":\"/en/guide/addresses\"},{\"text\":\"Networks & Coins\",\"link\":\"/en/guide/networks\"},{\"text\":\"Transactions\",\"link\":\"/en/guide/transactions\"},{\"text\":\"Withdrawals\",\"link\":\"/en/guide/withdrawals\"}]}],\"/en/api/\":[{\"text\":\"API Reference\",\"items\":[{\"text\":\"Overview\",\"link\":\"/en/api/overview\"},{\"text\":\"Authentication\",\"link\":\"/en/api/authentication\"},{\"text\":\"Addresses\",\"link\":\"/en/api/addresses\"},{\"text\":\"Networks\",\"link\":\"/en/api/networks\"},{\"text\":\"Withdrawals\",\"link\":\"/en/api/withdrawals\"}]}],\"/en/integration/\":[{\"text\":\"Integration Guide\",\"items\":[{\"text\":\"Getting Started\",\"link\":\"/en/integration/getting-started\"},{\"text\":\"Go SDK\",\"link\":\"/en/integration/go\"},{\"text\":\"TypeScript SDK\",\"link\":\"/en/integration/typescript\"},{\"text\":\"Python SDK\",\"link\":\"/en/integration/python\"}]}],\"/en/examples/\":[{\"text\":\"Code Examples\",\"items\":[{\"text\":\"Basic Usage\",\"link\":\"/en/examples/basic-usage\"},{\"text\":\"Payment Flow\",\"link\":\"/en/examples/payment-flow\"},{\"text\":\"Webhook Handling\",\"link\":\"/en/examples/webhooks\"}]}]}}},\"ru\":{\"label\":\"Русский\",\"lang\":\"ru\",\"title\":\"Криптоплатежный Шлюз\",\"description\":\"Полная документация по обработке криптоплатежей\",\"themeConfig\":{\"nav\":[{\"text\":\"Руководство\",\"link\":\"/ru/guide/introduction\"},{\"text\":\"API Справочник\",\"link\":\"/ru/api/overview\"},{\"text\":\"Интеграция\",\"link\":\"/ru/integration/getting-started\"},{\"text\":\"Примеры\",\"link\":\"/ru/examples/basic-usage\"}],\"sidebar\":{\"/ru/guide/\":[{\"text\":\"Начало работы\",\"items\":[{\"text\":\"Введение\",\"link\":\"/ru/guide/introduction\"},{\"text\":\"Быстрый старт\",\"link\":\"/ru/guide/quick-start\"},{\"text\":\"Архитектура\",\"link\":\"/ru/guide/architecture\"},{\"text\":\"Развертывание\",\"link\":\"/ru/guide/deployment\"}]},{\"text\":\"Основные концепции\",\"items\":[{\"text\":\"Адреса и кошельки\",\"link\":\"/ru/guide/addresses\"},{\"text\":\"Сети и монеты\",\"link\":\"/ru/guide/networks\"},{\"text\":\"Транзакции\",\"link\":\"/ru/guide/transactions\"},{\"text\":\"Выводы средств\",\"link\":\"/ru/guide/withdrawals\"}]}],\"/ru/api/\":[{\"text\":\"API Справочник\",\"items\":[{\"text\":\"Обзор\",\"link\":\"/ru/api/overview\"},{\"text\":\"Аутентификация\",\"link\":\"/ru/api/authentication\"},{\"text\":\"Адреса\",\"link\":\"/ru/api/addresses\"},{\"text\":\"Сети\",\"link\":\"/ru/api/networks\"},{\"text\":\"Выводы\",\"link\":\"/ru/api/withdrawals\"}]}],\"/ru/integration/\":[{\"text\":\"Руководство по интеграции\",\"items\":[{\"text\":\"Начало работы\",\"link\":\"/ru/integration/getting-started\"},{\"text\":\"Go SDK\",\"link\":\"/ru/integration/go\"},{\"text\":\"TypeScript SDK\",\"link\":\"/ru/integration/typescript\"},{\"text\":\"Python SDK\",\"link\":\"/ru/integration/python\"}]}],\"/ru/examples/\":[{\"text\":\"Примеры кода\",\"items\":[{\"text\":\"Базовое использование\",\"link\":\"/ru/examples/basic-usage\"},{\"text\":\"Поток платежей\",\"link\":\"/ru/examples/payment-flow\"},{\"text\":\"Обработка вебхуков\",\"link\":\"/ru/examples/webhooks\"}]}]}}}},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>